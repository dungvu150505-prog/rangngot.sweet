<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Má»™t chÃºt ngá»t ngÃ o gá»­i tá»›i báº¡n</title>

  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
</head>

<body>
  <!-- ğŸ° Logo + slogan -->
  <img src="https://file.garden/aO0lFjCQS03opF7T/st.PNG" alt="Logo RangNgot" class="logo">
  <div class="slogan">From RangNgot with Love ğŸ’</div>

  <!-- ğŸ€ Thiá»‡p -->
  <div class="card">
    <h1>Má»™t chÃºt ngá»t ngÃ o gá»­i tá»›i báº¡n</h1>
    <p>ÄÃ¢y lÃ  Ä‘Ã´i lá»i ngá»t ngÃ o tá»« má»™t ngÆ°á»i Ä‘áº·c biá»‡t muá»‘n dÃ nh táº·ng cho báº¡n nhÃ¢n dá»‹p 20/10. Nháº¥n play Ä‘á»ƒ nghe lá»i chÃºc nhÃ© ğŸ€</p>

    <!-- KhÃ´ng Ä‘áº·t src máº·c Ä‘á»‹nh; sáº½ gÃ¡n tá»« query -->
    <audio id="player" preload="auto">
      <source id="audioSource" type="audio/mpeg">
      TrÃ¬nh duyá»‡t cá»§a báº¡n khÃ´ng há»— trá»£ phÃ¡t Ã¢m thanh.
    </audio>

    <button class="play" id="btnPlay">ğŸ§ Nghe lá»i chÃºc</button>
    <div class="note" id="note">Náº¿u khÃ´ng tá»± phÃ¡t, hÃ£y báº¥m nÃºt á»Ÿ trÃªn nhÃ©</div>
  </div>

  <script>
    const btn    = document.getElementById('btnPlay');
    const note   = document.getElementById('note');
    const player = document.getElementById('player');
    const source = document.getElementById('audioSource');

    // Láº¥y URL Ã¢m thanh tá»«: /receiver.html?audio=/uploads/<file>
    const params   = new URLSearchParams(window.location.search);
    const audioURL = params.get('audio');

    if (audioURL) {
      source.src = audioURL;
      player.load(); // báº¯t trÃ¬nh duyá»‡t náº¡p nguá»“n má»›i
    } else {
      btn.disabled = true;
      btn.textContent = 'âŒ KhÃ´ng tÃ¬m tháº¥y file Ã¢m thanh';
      note.textContent = 'HÃ£y kiá»ƒm tra láº¡i link nháº­n hoáº·c nhá» ngÆ°á»i gá»­i gá»­i láº¡i nhÃ©.';
    }

    btn.addEventListener('click', () => {
      if (!audioURL) return;
      if (player.paused) {
        player.play()
          .then(() => { btn.textContent = 'â¸ Dá»«ng láº¡i'; })
          .catch(() => alert('TrÃ¬nh duyá»‡t cháº·n tá»± phÃ¡t, báº¥m láº¡i Ä‘á»ƒ phÃ¡t nhÃ©.'));
      } else {
        player.pause(); player.currentTime = 0; btn.textContent = 'ğŸ§ Nghe lá»i chÃºc';
      }
    });

    // ğŸ’— Tim bay ngáº«u nhiÃªn
    setInterval(() => {
      const heart = document.createElement('div');
      heart.classList.add('heart');
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = (3 + Math.random() * 3) + 's';
      heart.style.backgroundColor = `hsl(${340 + Math.random() * 20}, 90%, 75%)`;
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 6000);
    }, 800);
  </script>
</body>
</html>
